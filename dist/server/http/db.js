import { Router } from "@wxn0brp/falcon-frame";
import { authMiddleware } from "../auth/auth.js";
import dbRelationRouter from "../query/relation.js";
import dbRouter from "../query/db/index.js";
import queryRouter from "../query/query/index.js";
import sqlRouter from "../query/sqlFile.js";
import csvRouter from "../query/csvFile.js";
const apiRouter = new Router();
apiRouter.use(authMiddleware);
apiRouter.use((req, res, next) => {
    res.setHeader("Cache-Control", "no-store, no-cache, must-revalidate, max-age=0");
    res.setHeader("Pragma", "no-cache");
    next();
});
apiRouter.use("/db", dbRouter);
apiRouter.use("/q", queryRouter);
apiRouter.use("/r", dbRelationRouter);
apiRouter.use("/sql", sqlRouter);
apiRouter.use("/csv", csvRouter);
export default apiRouter;
